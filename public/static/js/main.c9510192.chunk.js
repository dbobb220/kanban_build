(window.webpackJsonpkanban=window.webpackJsonpkanban||[]).push([[0],{160:function(e,t,a){e.exports=a.p+"static/media/kanban_home.fa3da3de.png"},162:function(e,t,a){e.exports=a(516)},167:function(e,t,a){},168:function(e,t,a){},361:function(e,t,a){},515:function(e,t,a){},516:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(44),o=a.n(i),s=(a(167),a(27)),c=a(28),l=a(30),u=a(29),d=a(31),h=(a(168),a(101),a(54)),m=a(12),p=a(524),g=a(522),f=(a(361),a(45)),E=a(18),k=a(523),y=a(525),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.value,r=t.name;"type"===r?a.setState({type:n,color:a.colorType[n]}):a.setState(Object(f.a)({},r,n))},a.state={title:"",id:"",description:"",category:"",type:"",status:"",color:"",assignee:null,priority:3},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.colorType={Bug:"danger",Feature:"success",TechDebt:"warning",Improvement:"primary",Research:"info"},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"onSubmit",value:function(e){var t=this.state;this.props.fetchLoading(!0),this.props.fetchPut("/tasks/".concat(e),t),this.props.fetchLoading(!1),this.props.closeAside(!1)}},{key:"onDelete",value:function(e,t){this.props.fetchLoading(!0),this.props.updateStatus(e,t),this.props.fetchLoading(!1),this.props.closeAside(!1)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"edit-task"},r.a.createElement(p.a,{style:{width:"180px",height:"110px"},bg:"light",text:"dark"},r.a.createElement(p.a.Header,null,r.a.createElement(p.a.Title,null,this.state.title),r.a.createElement(g.a,{pill:!0,variant:this.state.color},this.state.category)),r.a.createElement(p.a.Body,null,r.a.createElement(p.a.Text,null,this.state.description)),r.a.createElement(p.a.Footer,{className:"text-muted"})),r.a.createElement(k.a,null,r.a.createElement(k.a.Group,{controlId:"taskTitle"},r.a.createElement(k.a.Label,null,"Title"),r.a.createElement(k.a.Control,{required:!0,type:"text",name:"title",value:this.state.title,onChange:this.handleChange})),r.a.createElement(k.a.Group,{controlId:"taskCategory"},r.a.createElement(k.a.Label,null,"Category"),r.a.createElement(k.a.Control,{required:!0,type:"text",name:"category",value:this.state.category,onChange:this.handleChange})),r.a.createElement(k.a.Group,{controlId:"taskDescription"},r.a.createElement(k.a.Label,null,"Description"),r.a.createElement(k.a.Control,{required:!0,as:"textarea",rows:"3",name:"description",value:this.state.description,onChange:this.handleChange})),r.a.createElement(k.a.Group,null,r.a.createElement(k.a.Label,null,"Type"),r.a.createElement(k.a.Control,{required:!0,as:"select",name:"type",value:this.state.type,onChange:this.handleChange},r.a.createElement("option",{value:"- Select One -",disabled:!0},"- Select One -"),r.a.createElement("option",{id:"danger",value:"Bug"},"Bug"),r.a.createElement("option",{id:"success",value:"Feature"},"Feature"),r.a.createElement("option",{id:"warning",value:"TechDebt"},"Tech Debt"),r.a.createElement("option",{id:"primary",value:"Improvement"},"Improvement"),r.a.createElement("option",{id:"info",value:"Research"},"Research")))),r.a.createElement("div",{className:"buttons"},r.a.createElement(y.a,{variant:"primary",type:"submit",onClick:function(){e.onSubmit(e.state.id)}},"Submit"),r.a.createElement(y.a,{variant:"danger",type:"submit",onClick:function(){e.onDelete(e.state.id,"isDeleted")}},"Delete")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.editTask._id!==t.id?{title:e.editTask.title,id:e.editTask._id,description:e.editTask.description,category:e.editTask.category,type:e.editTask.type,status:e.editTask.status,color:e.editTask.color}:null}}]),t}(n.Component),C=function(e){return{type:"FETCH_LOADING",isLoading:e}},b=function(e,t){return function(a){fetch(e,t).then((function(e){return e.json()})).then((function(e){a(function(e){return{type:"FETCH_SUCCESS",tasks:e}}(e))})).catch((function(e){return a(function(e,t){return{type:"FETCH_ERROR",hasErrored:e,message:t}}(!0,e))}))}},T=function(e){return{type:"ASIDE_CONTENT",asideContainer:e}},S=Object(m.b)((function(e){return{editTask:e.editTask,tasks:e.tasks,hasErrored:e.hasErrored,isLoading:e.isLoading,asideContainer:e.asideContainer,asideActive:e.asideActive}}),(function(e){return{fetchCall:function(t){return e(b(t))},fetchLoading:function(t){return e(C(t))},closeAside:function(){return e({type:"CLOSE_ASIDE",asideActive:!1})},fetchPut:function(t,a){return e(function(e,t){return function(a){fetch(e,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.text()})).then((function(e){console.log(e),a(b("/tasks"))})).catch((function(e){return console.log("Error:".concat(e))}))}}(t,a))},updateStatus:function(t,a){return e(function(e,t){return function(a){var n={status:t};fetch("/tasks/".concat(e),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.text()})).then((function(e){return a(b("/tasks"))})).catch((function(e){return console.log("Error:".concat(e))}))}}(t,a))}}}))(v);var O=function(e){var t=function(t,a){e.fetchLoading(!0);var n={status:a};fetch("/tasks/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),e.fetchCall("/tasks"),e.fetchLoading(!1)},a=function(t){var a=e.tasks.find((function(e){return e._id===t}));e.editClick(a),e.changeAside([""]),e.changeAside(r.a.createElement(S,null)),e.openAside(!0)},n=[];switch(!0){case"isBacklog"===e.status:n=[r.a.createElement("span",{className:"material-icons",title:"Edit",key:"Edit",onClick:function(){a(e.taskId)}},"edit"),r.a.createElement("span",{className:"material-icons",title:"Activate",key:"Activate",onClick:function(){t(e.taskId,"isActive")}},"add")];break;case"isActive"===e.status:n=[r.a.createElement("span",{className:"material-icons",title:"Edit",key:"Edit",onClick:function(){a(e.taskId)}},"edit"),r.a.createElement("div",{key:"Action"},r.a.createElement("span",{className:"material-icons",title:"Backlog",key:"Backlog",onClick:function(){t(e.taskId,"isBacklog"),console.log(e.taskId,"isDone")}},"thumb_down"),r.a.createElement("span",{className:"material-icons",title:"Done",key:"Done",onClick:function(){t(e.taskId,"isDone"),console.log(e.taskId,"isDone")}},"thumb_up"))];break;case"isDone"===e.status:n=[r.a.createElement("span",{className:"material-icons",title:"Edit",key:"Edit",onClick:function(){a(e.taskId)}},"edit"),r.a.createElement("div",{key:"Action"},r.a.createElement("span",{className:"material-icons",title:"Reject",onClick:function(){t(e.taskId,"isActive")}},"close"),r.a.createElement("span",{className:"material-icons",title:"Accept",onClick:function(){t(e.taskId,"isArchive")}},"check"))]}return r.a.createElement(p.a,{style:{width:"180px",height:"110px",margin:"2px"},bg:e.bgcolor,text:e.textColor},r.a.createElement(p.a.Header,null,r.a.createElement(p.a.Title,null,e.title),r.a.createElement(g.a,{pill:!0,variant:e.color},e.category)),r.a.createElement(p.a.Body,null,r.a.createElement(p.a.Text,null,e.description)),r.a.createElement(p.a.Footer,{className:"text-muted"},n))},A=Object(m.b)((function(e){return{tasks:e.tasks}}),(function(e){return{fetchCall:function(t){return e(b(t))},fetchLoading:function(t){return e(C(t))},editClick:function(t){return e(function(e){return{type:"EDIT_CLICK",editTask:e}}(t))},openAside:function(){return e({type:"OPEN_ASIDE",asideActive:!0})},changeAside:function(t){return e(T(t))}}}))(O),w=function(e){var t=[],a=[],n=[];return e.tasks.map((function(e,i){switch(!0){case"isBacklog"===e.status:t.push(r.a.createElement(A,{taskId:e._id,title:e.title,category:e.category,description:e.description,key:i,bgcolor:"light",textColor:"dark",color:e.color,status:e.status}));break;case"isActive"===e.status:a.push(r.a.createElement(A,{taskId:e._id,title:e.title,category:e.category,description:e.description,key:i,bgcolor:"light",textColor:"dark",color:e.color,status:e.status}));break;case"isDone"===e.status:n.push(r.a.createElement(A,{taskId:e._id,title:e.title,category:e.category,description:e.description,key:i,bgcolor:"light",textColor:"dark",color:e.color,status:e.status}))}})),r.a.createElement(h.Row,null,r.a.createElement(h.Col,null,r.a.createElement("h3",null,"Backlog"),r.a.createElement("div",{className:"column backlog"},t)),r.a.createElement(h.Col,null,r.a.createElement("h3",null,"Active"),r.a.createElement("div",{className:"column active"},a)),r.a.createElement(h.Col,null,r.a.createElement("h3",null,"Done"),r.a.createElement("div",{className:"column done"},n)))},L=Object(m.b)((function(e){return{tasks:e.tasks}}))(w),j=a(98),I=a.n(j),D=a(154),N=a(14),_=a.n(N),x=a(158),R=a.n(x),B=a(161),F=a(47),G=a(99),P=a.n(G),q=F.object({taskTitle:F.string().min(4,"Task title is too short").max(20,"Task title is too long").required("Required"),taskCategory:F.string().min(3,"Task category is too short").max(20,"Task category is too long").required("Required"),taskDescription:F.string().required("Required"),taskType:F.string().oneOf(["Bug","Feature","Tech Debt","Improvement","Research"],"Required").required("Select a task type")}),U={Bug:"danger",Feature:"success",TechDebt:"warning",Improvement:"primary",Research:"info"},H=function(e){return r.a.createElement("div",null,r.a.createElement("h3",{style:{textAlign:"center"}},"Create Task"),r.a.createElement(B.a,{validationSchema:q,onSubmit:function(){var t=Object(D.a)(I.a.mark((function t(a,n){var i;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i={title:a.taskTitle,description:a.taskDescription,category:a.taskCategory,status:"isBacklog",type:a.taskType,color:U[a.taskType],assignee:null,priority:3},fetch("/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(t){var a="'".concat(t.title,"' task added to board");n.resetForm(),n.setStatus({alert:r.a.createElement(P.a,{variant:"success"},a)}),e.fetchLoading(!0),e.fetchCall("/tasks"),e.fetchLoading(!1)})).catch((function(e){var t="'".concat(a.taskTitle,"' task was not added. ").concat(e);n.resetForm(),n.setStatus({alert:r.a.createElement(P.a,{variant:"danger"},t)})}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),initialValues:{taskTitle:"",taskCategory:"",taskDescription:"",taskType:"- Select One -",taskColor:""}},(function(e){var t=e.handleSubmit,a=e.handleChange,n=e.isSubmitting,i=e.values,o=e.touched,s=e.errors,c=e.status;e.isValid;return r.a.createElement("div",null,c?c.alert:"",r.a.createElement(_.a,{className:"new_task",noValidate:!0,onSubmit:t},r.a.createElement(_.a.Group,{controlId:"taskTitle"},r.a.createElement(_.a.Label,null,"Title"),r.a.createElement(_.a.Control,{required:!0,type:"text",placeholder:"Keep it short!",name:"taskTitle",value:i.taskTitle,onChange:a,isValid:o.taskTitle&&!s.taskTitle}),s.taskTitle&&o.taskTitle?r.a.createElement("div",{className:"error"},s.taskTitle):null),r.a.createElement(_.a.Group,{controlId:"taskCategory"},r.a.createElement(_.a.Label,null,"Category"),r.a.createElement(_.a.Control,{required:!0,type:"text",placeholder:"Which project/component?",name:"taskCategory",value:i.taskCategory,onChange:a,isValid:o.taskCategory&&!s.taskCategory}),s.taskCategory&&o.taskCategory?r.a.createElement("div",{className:"error"},s.taskCategory):null),r.a.createElement(_.a.Group,{controlId:"taskDescription"},r.a.createElement(_.a.Label,null,"Description"),r.a.createElement(_.a.Control,{required:!0,as:"textarea",rows:"3",name:"taskDescription",placeholder:"Describe task in one sentence.",value:i.taskDescription,onChange:a,isValid:o.taskDescription&&!s.taskDescription}),s.taskDescription&&o.taskDescription?r.a.createElement("div",{className:"error"},s.taskDescription):null),r.a.createElement(_.a.Group,null,r.a.createElement(_.a.Label,null,"Type"),r.a.createElement(_.a.Control,{required:!0,as:"select",name:"taskType",value:i.taskType,onChange:a,isValid:o.taskType&&!s.taskType},r.a.createElement("option",{value:"- Select One -",disabled:!0},"- Select One -"),r.a.createElement("option",{id:"danger",value:"Bug"},"Bug"),r.a.createElement("option",{id:"success",value:"Feature"},"Feature"),r.a.createElement("option",{id:"warning",value:"TechDebt"},"Tech Debt"),r.a.createElement("option",{id:"primary",value:"Improvement"},"Improvement"),r.a.createElement("option",{id:"info",value:"Research"},"Research")),s.taskType&&o.taskType?r.a.createElement("div",{className:"error"},s.taskType):null),r.a.createElement(R.a,{variant:"primary",type:"submit",disabled:n},"Submit")))})))},J=Object(m.b)(null,(function(e){return{fetchCall:function(t){return e(b(t))},fetchLoading:function(t){return e(C(t))}}}))(H),V=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchCall("/tasks"),this.props.fetchLoading(!1)}},{key:"render",value:function(){var e=this,t=[];return t=this.props.isLoading?r.a.createElement("p",null,"I'm Loading Here!"):this.props.hasErrored?r.a.createElement("h4",{className:"board_error"},"There was an issue loading your board. Please reach out to the admin of this page."):r.a.createElement(L,{tasks:this.props.tasks}),r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Kanban App"),r.a.createElement("nav",null,r.a.createElement("span",{className:"material-icons",onClick:function(){e.props.changeAside(r.a.createElement(J,null)),e.props.openAside(!0)},title:"New Task"},"playlist_add"))),r.a.createElement("main",null,t),this.props.asideActive?r.a.createElement("aside",{className:"aside active"},r.a.createElement("span",{className:"menuclose",onClick:function(){e.props.closeAside(!1)}},"\xd7"),this.props.asideContainer):r.a.createElement("aside",{className:"aside"},r.a.createElement("span",{className:"menuclose",onClick:function(){e.props.closeAside(!1)}},"\xd7"),this.props.asideContainer))}}]),t}(n.Component),K=Object(m.b)((function(e){return{tasks:e.tasks,hasErrored:e.hasErrored,isLoading:e.isLoading,asideActive:e.asideActive,asideContainer:e.asideContainer}}),(function(e){return{fetchCall:function(t){return e(b(t))},fetchLoading:function(t){return e(C(t))},closeAside:function(){return e({type:"CLOSE_ASIDE",asideActive:!1})},openAside:function(){return e({type:"OPEN_ASIDE",asideActive:!0})},changeAside:function(t){return e(T(t))}}}))(V),W=a(36),M=a(159),$=a(53),z=a.n($),Q=Object(W.c)({tasks:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_SUCCESS":return t.tasks;default:return e}},hasErrored:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_ERROR":return t.hasErrored;default:return e}},isLoading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LOADING":return t.isLoading;default:return e}},asideActive:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_ASIDE":case"CLOSE_ASIDE":return t.asideActive;default:return e}},asideContainer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ASIDE_CONTENT":return t.asideContainer;default:return e}},editTask:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDIT_CLICK":return t.editTask;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SUCCESS":return z.a.set("kanban_crud_cookie",t.token),e;default:return e}},userErrored:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_ERROR":return console.log(t.message),t.hasErrored;default:return e}},userIsLoading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOADING":return t.isLoading;default:return e}}}),X=Object(W.d)(Q,{tasks:[],isLoading:!0,hasErrored:!1,asideActive:!1,asideContainer:[],editTask:[],user:[],userErrored:!1,userIsLoading:!1},Object(W.a)(M.a));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Y=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={username:"",password:""},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(f.a)({},n,a))}},{key:"onSubmit",value:function(e){z.a.set("kanban_crud_cookie","asdfasdfsabwefeasdfcd"),window.location.reload()}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"login"},r.a.createElement(k.a.Group,{controlId:"loginUsername"},r.a.createElement(k.a.Control,{name:"username",type:"text",placeholder:"Enter username",onChange:this.handleChange})),r.a.createElement(k.a.Group,{controlId:"loginPassword"},r.a.createElement(k.a.Control,{name:"password",type:"password",placeholder:"Password",onChange:this.handleChange})),r.a.createElement(y.a,{variant:"secondary",onClick:this.onSubmit},"Login"))}}]),t}(n.Component),Z=function(e,t){return{type:"USER_ERROR",hasErrored:e,message:t}},ee=function(e){return{type:"USER_LOADING",isLoading:e}},te=function(e){return{type:"USER_SUCCESS",token:e}},ae=(Object(m.b)((function(e){return{userLoading:e.userLoading,userErrored:e.userErrored,user:[]}}),(function(e){return{userLogin:function(t){return e(function(e){return function(t){console.log("user is logging in"),fetch("/users",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.text()})).then((function(e){t(te(e))})).catch((function(e){return t(Z(!0,e))}))}}(t))},userLoading:function(t){return e(ee(t))},userError:function(t){return e(Z(t))}}}))(Y),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={name:"",username:"",password:""},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(f.a)({},n,a))}},{key:"onSubmit",value:function(e){var t={name:this.name,username:this.username,password:this.password};this.props.userSignup(t)}},{key:"render",value:function(){return r.a.createElement(k.a,{className:"signup"},r.a.createElement(k.a.Group,{controlId:"signupEmail"},r.a.createElement(k.a.Control,{name:"name",type:"name",placeholder:"Name",onChange:this.handleChange})),r.a.createElement(k.a.Group,{controlId:"signupUsername"},r.a.createElement(k.a.Control,{name:"username",type:"text",placeholder:"Username",onChange:this.handleChange})),r.a.createElement(k.a.Group,{controlId:"signupPassword"},r.a.createElement(k.a.Control,{name:"password",type:"password",placeholder:"Password",onChange:this.handleChange})),r.a.createElement(y.a,{variant:"primary",style:{textAlign:"right"},onClick:this.onSubmit},"Sign Up"))}}]),t}(n.Component));Object(m.b)((function(e){return{userLoading:e.userLoading,userErrored:e.userErrored,user:[]}}),(function(e){return{userSignup:function(t){return e(function(e){return console.log("user is signing up"),function(t){fetch("/users",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.text()})).then((function(e){t(te(e))})).catch((function(e){return t(Z(!0,e))}))}}(t))},userLoading:function(t){return e(ee(t))},userError:function(t){return e(Z(t))}}}))(ae),a(515),a(160);o.a.render(r.a.createElement(m.a,{store:X},r.a.createElement(K,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[162,1,2]]]);
//# sourceMappingURL=main.c9510192.chunk.js.map